# 🚀 Railway 배포 체크리스트

## ✅ 배포 전 준비사항

### 1. Git 저장소 초기화 및 GitHub 푸시

터미널에서 다음 명령어를 실행하세요:

```bash
# Git 저장소 초기화
git init

# 모든 파일 추가
git add .

# 첫 커밋
git commit -m "Initial commit: CAFELOGIC MVP"

# GitHub에 새 저장소 생성 후 연결
# (GitHub에서 새 저장소를 먼저 만드세요)
git remote add origin https://github.com/your-username/cafelogic.git
git branch -M main
git push -u origin main
```

### 2. Railway 계정 준비

- [Railway.app](https://railway.app) 가입
- GitHub 계정으로 로그인 권장

### 3. JWT_SECRET 생성

터미널에서 다음 명령어로 안전한 시크릿 키 생성:

```bash
# Windows PowerShell
[Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))

# 또는 온라인 생성기 사용
# https://www.random.org/strings/
```

**최소 32자 이상의 랜덤 문자열을 생성하세요!**

## 📋 Railway 배포 단계

### Step 1: 프로젝트 생성
1. Railway 대시보드 → **"New Project"**
2. **"Deploy from GitHub repo"** 선택
3. GitHub 저장소 선택
4. 프로젝트 이름: `cafelogic` (또는 원하는 이름)

### Step 2: PostgreSQL 추가
1. 프로젝트 대시보드 → **"New"** 버튼
2. **"Database"** → **"Add PostgreSQL"** 선택
3. `DATABASE_URL`이 자동으로 설정됩니다 ✅

### Step 3: 환경 변수 설정
1. 프로젝트 → **"Variables"** 탭
2. 다음 변수 추가:

```
JWT_SECRET=여기에_생성한_시크릿_키_입력
```

### Step 4: 배포 확인
1. **"Deployments"** 탭에서 배포 상태 확인
2. 배포 완료 후 생성된 URL 확인 (예: `https://cafelogic-production.up.railway.app`)

### Step 5: 데이터베이스 초기화
브라우저에서 다음 URL 접속:
```
https://your-app-url.railway.app/api/init
```

"Database initialized successfully" 메시지가 나오면 성공! ✅

### Step 6: 로그인 테스트
1. `https://your-app-url.railway.app/auth/login` 접속
2. 관리자 계정으로 로그인:
   - Username: `admin`
   - Password: `250801`

## 🔍 문제 해결

### 배포가 실패하는 경우
- Railway 대시보드 → **"Deployments"** → 로그 확인
- 빌드 오류 메시지 확인
- `package.json`의 스크립트가 올바른지 확인

### 데이터베이스 연결 오류
- `DATABASE_URL` 환경 변수 확인
- PostgreSQL 서비스가 실행 중인지 확인
- `/api/test-db` 엔드포인트로 테스트

### 로그인 안 되는 경우
- `JWT_SECRET` 환경 변수 확인
- 브라우저 쿠키 확인
- HTTPS 환경에서만 작동하는지 확인

## 🎉 배포 완료!

배포가 완료되면:
- ✅ 서버를 끄지 않아도 24/7 사용 가능
- ✅ Railway가 자동으로 관리
- ✅ GitHub에 푸시하면 자동 재배포

## 📝 참고사항

- Railway 무료 티어: 월 $5 크레딧 제공
- PostgreSQL 무료 티어 사용 가능
- 자동 HTTPS 제공
- 커스텀 도메인 연결 가능

---

**자세한 배포 가이드는 `DEPLOYMENT.md` 파일을 참고하세요!**

